<mat-grid-list cols="6" rowHeight="40px">
  <mat-grid-tile></mat-grid-tile>

  <mat-grid-tile><b>First Name:</b></mat-grid-tile>
  <mat-grid-tile>
    <mat-form-field class="w-100">
      <input #firstNameSearch matInput />
    </mat-form-field>
  </mat-grid-tile>

  <mat-grid-tile><b>Last Name:</b></mat-grid-tile>
  <mat-grid-tile>
    <mat-form-field class="w-100">
      <input #lastNameSearch matInput />
    </mat-form-field>
  </mat-grid-tile>

  <mat-grid-tile>
    <button
      mat-raised-button
      color="primary"
      (click)="searchUsers(firstNameSearch, lastNameSearch)"
    >
      Search
    </button>
  </mat-grid-tile>

  <mat-grid-tile [colspan]="6">
    <mat-divider style="width: 100%;"></mat-divider>
  </mat-grid-tile>

  <div *ngFor="let user of usersDisplayed">
    <mat-grid-tile><b>First Name:</b></mat-grid-tile>
    <mat-grid-tile [colspan]="2">
      <mat-form-field class="w-100">
        <input #firstName matInput value="{{ user.first_name }}" />
      </mat-form-field>
    </mat-grid-tile>
    <mat-grid-tile><b>Last Name:</b></mat-grid-tile>
    <mat-grid-tile [colspan]="2">
      <mat-form-field class="w-100">
        <input #lastName matInput value="{{ user.last_name }}" />
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile><b>Email:</b></mat-grid-tile>
    <mat-grid-tile [colspan]="5">
      <mat-form-field class="w-100">
        <input #email matInput value="{{ user.email }}" />
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile><b>Password:</b></mat-grid-tile>
    <mat-grid-tile [colspan]="2">
      <mat-form-field class="w-100">
        <input #password matInput type="password" />
      </mat-form-field>
    </mat-grid-tile>
    <mat-grid-tile><b>Confirm Password:</b></mat-grid-tile>
    <mat-grid-tile [colspan]="2">
      <mat-form-field class="w-100">
        <input #passwordConfirm matInput type="password" />
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1"></mat-grid-tile>
    <mat-grid-tile [colspan]="2">
      <mat-button-toggle-group
        name="accessLevel"
        #accessLevelGroup="matButtonToggleGroup"
        aria-label="Access Level"
        value="{{ user.access }}"
      >
        <mat-button-toggle value="COACH">Coach</mat-button-toggle>
        <mat-button-toggle value="SUPERVISOR">Supervisor</mat-button-toggle>
        <mat-button-toggle value="ADMIN">Admin</mat-button-toggle>
      </mat-button-toggle-group>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1"></mat-grid-tile>
    <mat-grid-tile [colspan]="1">
      <button
        mat-raised-button
        color="primary"
        (click)="
          updateUser(
            user.id,
            firstName,
            lastName,
            email,
            password,
            passwordConfirm,
            accessLevelGroup
          )
        "
      >
        Update User
      </button>
    </mat-grid-tile>
    
    <!-- Delete button for active users -->
    <mat-grid-tile [colspan]="1" *ngIf="user.active === 1">
      <button
        mat-raised-button
        color="warn"
        (click)="deleteUser(user.id, firstName.value, lastName.value)"
      >
        Delete User
      </button>
    </mat-grid-tile>

    <!-- Reactivate button for inactive users -->
    <mat-grid-tile [colspan]="1" *ngIf="user.active === 0">
      <button
        mat-raised-button
        color="secondary"
        (click)="reactivateUser(user.id, firstName.value, lastName.value)"
      >
        Reactivate User
      </button>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="6">
      <mat-divider style="width: 100%;"></mat-divider>
    </mat-grid-tile>
  </div>

  <!-- New User -->
  <mat-grid-tile><b>First Name:</b></mat-grid-tile>
  <mat-grid-tile [colspan]="2">
    <mat-form-field class="w-100">
      <input #firstName matInput />
    </mat-form-field>
  </mat-grid-tile>
  <mat-grid-tile><b>Last Name:</b></mat-grid-tile>
  <mat-grid-tile [colspan]="2">
    <mat-form-field class="w-100">
      <input #lastName matInput />
    </mat-form-field>
  </mat-grid-tile>

  <mat-grid-tile><b>Email:</b></mat-grid-tile>
  <mat-grid-tile [colspan]="5">
    <mat-form-field class="w-100">
      <input #email matInput />
    </mat-form-field>
  </mat-grid-tile>

  <mat-grid-tile><b>Password:</b></mat-grid-tile>
  <mat-grid-tile [colspan]="2">
    <mat-form-field class="w-100">
      <input #password matInput type="password" />
    </mat-form-field>
  </mat-grid-tile>
  <mat-grid-tile><b>Confirm Password:</b></mat-grid-tile>
  <mat-grid-tile [colspan]="2">
    <mat-form-field class="w-100">
      <input #passwordConfirm matInput type="password" />
    </mat-form-field>
  </mat-grid-tile>

  <mat-grid-tile [colspan]="1"></mat-grid-tile>
  <mat-grid-tile [colspan]="2">
    <mat-button-toggle-group
      name="accessLevel"
      #accessLevelGroup="matButtonToggleGroup"
      aria-label="Access Level"
    >
      <mat-button-toggle value="COACH">Coach</mat-button-toggle>
      <mat-button-toggle value="SUPERVISOR">Supervisor</mat-button-toggle>
      <mat-button-toggle value="ADMIN">Admin</mat-button-toggle>
    </mat-button-toggle-group>
  </mat-grid-tile>

  <mat-grid-tile [colspan]="1"></mat-grid-tile>
  <mat-grid-tile [colspan]="2">
    <button
      (click)="
        createUser(
          firstName,
          lastName,
          email,
          password,
          passwordConfirm,
          accessLevelGroup
        )
      "
      mat-raised-button
      color="primary"
    >
      Create User
    </button>
  </mat-grid-tile>

  <mat-grid-tile [colspan]="6">
    <mat-divider style="width: 100%;"></mat-divider>
  </mat-grid-tile>

  <mat-grid-tile [colspan]="6">
    <mat-paginator
      #paginator
      style="width: 100%;"
      [length]="users.length"
      [pageIndex]="pageinatorIndex"
      [pageSize]="pageinatorSize"
      [pageSizeOptions]="[5, 10, 25, 100]"
      (page)="pageChanged($event)"
    >
    </mat-paginator>
  </mat-grid-tile>
</mat-grid-list>
